{"version":3,"sources":["../../../../../assets/scripts/data/assets/scripts/data/UserData.js"],"names":["cc","Class","ctor","curLevel","saveData","obj","Object","keys","key","data","JSON","stringify","sys","localStorage","setItem","zy","constData","StaticKey","PlayerDataKey","SaveDataVersion","loadData","getItem","parse","hasOwnProperty"],"mappings":";;;;;;AAAA;;;;;;AAMAA,GAAGC,KAAH,CAAS;AACLC,QADK,kBACE;AACH,aAAKC,QAAL,GAAgB,CAAhB,CADG,CACgB;AACtB,KAHI;AAKLC,YALK,sBAKM;AACP,YAAIC,MAAM,EAAV;AADO;AAAA;AAAA;;AAAA;AAEP,iCAAgBC,OAAOC,IAAP,CAAY,IAAZ,CAAhB,8HAAmC;AAAA,oBAA1BC,GAA0B;;AAC/BH,oBAAIG,GAAJ,IAAW,KAAKA,GAAL,CAAX;AACH;AAJM;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;;AAKP,YAAIC,OAAOC,KAAKC,SAAL,CAAeN,GAAf,CAAX;AACAL,WAAGY,GAAH,CAAOC,YAAP,CAAoBC,OAApB,CAA4BC,GAAGC,SAAH,CAAaC,SAAb,CAAuBC,aAAvB,GAAuCH,GAAGC,SAAH,CAAaC,SAAb,CAAuBE,eAA1F,EAA2GV,IAA3G;AACH,KAZI;AAcLW,YAdK,sBAcM;AACP,YAAIX,OAAOT,GAAGY,GAAH,CAAOC,YAAP,CAAoBQ,OAApB,CAA4BN,GAAGC,SAAH,CAAaC,SAAb,CAAuBC,aAAvB,GAAuCH,GAAGC,SAAH,CAAaC,SAAb,CAAuBE,eAA1F,CAAX;AACA,YAAIV,IAAJ,EAAU;AACNA,mBAAOC,KAAKY,KAAL,CAAWb,IAAX,CAAP;AADM;AAAA;AAAA;;AAAA;AAEN,sCAAgBH,OAAOC,IAAP,CAAYE,IAAZ,CAAhB,mIAAmC;AAAA,wBAA1BD,GAA0B;;AAC/B,wBAAI,KAAKe,cAAL,CAAoBf,GAApB,CAAJ,EAA8B;AAC1B,6BAAKA,GAAL,IAAYC,KAAKD,GAAL,CAAZ;AACH;AACJ;AANK;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAOT;AACJ;AAxBI,CAAT","file":"UserData.js","sourceRoot":"../../../../../assets/scripts/data","sourcesContent":["/**\n * Created by skyxu on 2019/11/27.\n *\n * 玩家在游戏中动态修改的数据\n */\n\ncc.Class({\n    ctor() {\n        this.curLevel = 1; // 当前等级\n    },\n\n    saveData() {\n        let obj = {};\n        for (let key of Object.keys(this)) {\n            obj[key] = this[key];\n        }\n        let data = JSON.stringify(obj);\n        cc.sys.localStorage.setItem(zy.constData.StaticKey.PlayerDataKey + zy.constData.StaticKey.SaveDataVersion, data);\n    },\n\n    loadData() {\n        let data = cc.sys.localStorage.getItem(zy.constData.StaticKey.PlayerDataKey + zy.constData.StaticKey.SaveDataVersion);\n        if (data) {\n            data = JSON.parse(data);\n            for (let key of Object.keys(data)) {\n                if (this.hasOwnProperty(key)) {\n                    this[key] = data[key];\n                }\n            }\n        }\n    }\n});"]}