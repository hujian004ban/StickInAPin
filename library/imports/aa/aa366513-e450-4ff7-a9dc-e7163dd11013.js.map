{"version":3,"sources":["../../../../../assets/scripts/pop/assets/scripts/pop/SettingPop.js"],"names":["PlatformUtils","require","cc","Class","extends","Component","properties","vibNode","Node","soundsNode","soudsVolume","versionLabel","Label","init","params","getComponent","setIsOn","zy","audio","getBGMEnabled","Slider","progress","getBGMVomue","string","getAppVersion","CHANNEL_ID","onVibCall","audioMng","playButtonAudio","dataMng","userData","vibOn","onSoundsCall","sc","playEffect","Effect","CommonClick","setBGMEnabled","isOn","setEffectsEnabled","sliderCallback","slider","setBGMVolume","setEffectsVolume","closeCallback","director","closePop","popName"],"mappings":";;;;;;AAAA;;;;AAIA,IAAMA,gBAAgBC,QAAQ,uCAAR,CAAtB;;AAEAC,GAAGC,KAAH,CAAS;AACLC,aAASF,GAAGG,SADP;AAELC,gBAAY;AACRC,iBAASL,GAAGM,IADJ;AAERC,oBAAYP,GAAGM,IAFP;AAGRE,qBAAaR,GAAGM,IAHR;AAIRG,sBAAcT,GAAGU;AAJT,KAFP;;AASLC,QATK,gBASCC,MATD,EASS;AACV,aAAKL,UAAL,CAAgBM,YAAhB,CAA6B,eAA7B,EAA8CC,OAA9C,CAAsDC,GAAGC,KAAH,CAASC,aAAT,EAAtD,EAAgF,KAAhF;AACA,aAAKT,WAAL,CAAiBK,YAAjB,CAA8Bb,GAAGkB,MAAjC,EAAyCC,QAAzC,GAAoDJ,GAAGC,KAAH,CAASI,WAAT,EAApD;;AAEA,aAAKX,YAAL,CAAkBY,MAAlB,GAA2B,MAAMvB,cAAcwB,aAAd,EAAN,GAAsC,KAAtC,GAA8CC,UAAzE;AACH,KAdI;AAgBLC,aAhBK,uBAgBQ;AACTT,WAAGU,QAAH,CAAYC,eAAZ;AACAX,WAAGY,OAAH,CAAWC,QAAX,CAAoBC,KAApB,GAA4B,CAACd,GAAGY,OAAH,CAAWC,QAAX,CAAoBC,KAAjD;AACA;AACA;AACA;AACA;AACA;AACA;AACH,KAzBI;AA2BLC,gBA3BK,wBA2BSC,EA3BT,EA2Ba;AACdhB,WAAGC,KAAH,CAASgB,UAAT,CAAoBjB,GAAGC,KAAH,CAASiB,MAAT,CAAgBC,WAApC;AACAnB,WAAGC,KAAH,CAASmB,aAAT,CAAuBJ,GAAGK,IAA1B;AACArB,WAAGC,KAAH,CAASqB,iBAAT,CAA2BN,GAAGK,IAA9B;AACH,KA/BI;AAiCLE,kBAjCK,0BAiCWC,MAjCX,EAiCmB;AACpBxB,WAAGC,KAAH,CAASwB,YAAT,CAAsBD,OAAOpB,QAA7B;AACAJ,WAAGC,KAAH,CAASyB,gBAAT,CAA0BF,OAAOpB,QAAjC;AACH,KApCI;AAsCLuB,iBAtCK,2BAsCW;AACZ3B,WAAG4B,QAAH,CAAYC,QAAZ,CAAqB,KAAKC,OAA1B;AACH;AAxCI,CAAT","file":"SettingPop.js","sourceRoot":"../../../../../assets/scripts/pop","sourcesContent":["/**\r\n * Created by skyxu on 2019/12/9.\r\n */\r\n\r\nconst PlatformUtils = require(\"./../framework/platform/PlatformUtils\");\r\n\r\ncc.Class({\r\n    extends: cc.Component,\r\n    properties: {\r\n        vibNode: cc.Node,\r\n        soundsNode: cc.Node,\r\n        soudsVolume: cc.Node,\r\n        versionLabel: cc.Label,\r\n    },\r\n\r\n    init (params) {\r\n        this.soundsNode.getComponent(\"SwitchControl\").setIsOn(zy.audio.getBGMEnabled(), false);\r\n        this.soudsVolume.getComponent(cc.Slider).progress = zy.audio.getBGMVomue();\r\n\r\n        this.versionLabel.string = \"v\" + PlatformUtils.getAppVersion() + \"  c\" + CHANNEL_ID;\r\n    },\r\n\r\n    onVibCall () {\r\n        zy.audioMng.playButtonAudio();\r\n        zy.dataMng.userData.vibOn = !zy.dataMng.userData.vibOn;\r\n        // if (zy.dataMng.userData.vibOn) {\r\n        //     this.vibNode.getComponent(cc.Animation).play(\"setBtnOn\", 0);\r\n        //     PlatformUtils.vibratorShort();\r\n        // } else {\r\n        //     this.vibNode.getComponent(cc.Animation).play(\"setBtnOff\", 0);\r\n        // }\r\n    },\r\n\r\n    onSoundsCall (sc) {\r\n        zy.audio.playEffect(zy.audio.Effect.CommonClick);\r\n        zy.audio.setBGMEnabled(sc.isOn);\r\n        zy.audio.setEffectsEnabled(sc.isOn);\r\n    },\r\n\r\n    sliderCallback (slider) {\r\n        zy.audio.setBGMVolume(slider.progress);\r\n        zy.audio.setEffectsVolume(slider.progress);\r\n    },\r\n\r\n    closeCallback() {\r\n        zy.director.closePop(this.popName);\r\n    }\r\n});"]}