{"version":3,"sources":["UserData.js"],"names":["cc","Class","ctor","lastGotCoinTime","zy","utils","time","freeCoinsLevel","hpLevel","preInterAdLevel","phPower","constData","PhDefault","phPowerCounts","MaxPhCounts1Day","phPowerTime","phLowTime","vibOn","guide","freeCoinsLastTime","FreeCoinsCooling","freeCoinsNum","FreeCoinsMaxNum","freeCoinsNum2","freeWatchNum","saveData","obj","Object","keys","key","data","JSON","stringify","sys","localStorage","setItem","StaticKey","PlayerDataKey","SaveDataVersion","loadData","getItem","parse","hasOwnProperty"],"mappings":";;;;;;AAAA;;;;;;AAMAA,GAAGC,KAAH,CAAS;AACLC,QADK,kBACE;AACH,aAAKC,eAAL,GAAuBC,GAAGC,KAAH,CAASC,IAAT,EAAvB,CADG,CACsC;AACzC,aAAKC,cAAL,GAAsB,CAAtB,CAFG,CAEuB;AAC1B,aAAKC,OAAL,GAAe,CAAf,CAHG,CAGgB;AACnB,aAAKC,eAAL,GAAuB,CAAvB,CAJG,CAIwB;AAC3B,aAAKC,OAAL,GAAeN,GAAGO,SAAH,CAAaC,SAA5B,CALG,CAKqC;AACxC,aAAKC,aAAL,GAAqBT,GAAGO,SAAH,CAAaG,eAAlC,CANG,CAMiD;AACpD,aAAKC,WAAL,GAAmB,CAAnB,CAPG,CAOoB;AACvB,aAAKC,SAAL,GAAiB,CAAjB,CARG,CAQiB;;AAEpB,aAAKC,KAAL,GAAa,IAAb,CAVG,CAUiB;;AAEpB,aAAKC,KAAL,GAAa,CAAb,CAZG,CAYc;;AAEjB,aAAKC,iBAAL,GAAyBf,GAAGC,KAAH,CAASC,IAAT,KAAkBF,GAAGO,SAAH,CAAaS,gBAAxD,CAdG,CAcwE;AAC3E,aAAKC,YAAL,GAAoBjB,GAAGO,SAAH,CAAaW,eAAjC,CAfG,CAegD;AACnD,aAAKC,aAAL,GAAqB,CAArB,CAhBG,CAgBsB;AACzB,aAAKC,YAAL,GAAoB,CAApB,CAjBG,CAiBqB;AAE3B,KApBI;AAsBLC,YAtBK,sBAsBM;AACP,YAAIC,MAAM,EAAV;AADO;AAAA;AAAA;;AAAA;AAEP,iCAAgBC,OAAOC,IAAP,CAAY,IAAZ,CAAhB,8HAAmC;AAAA,oBAA1BC,GAA0B;;AAC/BH,oBAAIG,GAAJ,IAAW,KAAKA,GAAL,CAAX;AACH;AAJM;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;;AAKP,YAAIC,OAAOC,KAAKC,SAAL,CAAeN,GAAf,CAAX;AACA1B,WAAGiC,GAAH,CAAOC,YAAP,CAAoBC,OAApB,CAA4B/B,GAAGO,SAAH,CAAayB,SAAb,CAAuBC,aAAvB,GAAuCjC,GAAGO,SAAH,CAAayB,SAAb,CAAuBE,eAA1F,EAA2GR,IAA3G;AACH,KA7BI;AA+BLS,YA/BK,sBA+BM;AACP,YAAIT,OAAO9B,GAAGiC,GAAH,CAAOC,YAAP,CAAoBM,OAApB,CAA4BpC,GAAGO,SAAH,CAAayB,SAAb,CAAuBC,aAAvB,GAAuCjC,GAAGO,SAAH,CAAayB,SAAb,CAAuBE,eAA1F,CAAX;AACA,YAAIR,IAAJ,EAAU;AACNA,mBAAOC,KAAKU,KAAL,CAAWX,IAAX,CAAP;AADM;AAAA;AAAA;;AAAA;AAEN,sCAAgBH,OAAOC,IAAP,CAAYE,IAAZ,CAAhB,mIAAmC;AAAA,wBAA1BD,GAA0B;;AAC/B,wBAAI,KAAKa,cAAL,CAAoBb,GAApB,CAAJ,EAA8B;AAC1B,6BAAKA,GAAL,IAAYC,KAAKD,GAAL,CAAZ;AACH;AACJ;AANK;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAOT;AACJ;AAzCI,CAAT","file":"UserData.js","sourceRoot":"../../../../../assets/scripts/data","sourcesContent":["/**\n * Created by skyxu on 2019/11/27.\n *\n * 玩家在游戏中动态修改的数据\n */\n\ncc.Class({\n    ctor() {\n        this.lastGotCoinTime = zy.utils.time();  // 上次领取奖励的时间(每10秒给金币)\n        this.freeCoinsLevel = 1;  // 免费领取金币等级，等级越高可领取金币越多\n        this.hpLevel = 1;  // 当前血量的等级\n        this.preInterAdLevel = 0;  // 上次插屏广告的关卡数\n        this.phPower = zy.constData.PhDefault;  // 体力值\n        this.phPowerCounts = zy.constData.MaxPhCounts1Day;  // 当天可领取的体力次数\n        this.phPowerTime = 0;  // 最后一次获取体力的时间，24小时重置领取次数\n        this.phLowTime = 0; // 体力值小于最大体力的时间\n\n        this.vibOn = true;  // 震动开关\n\n        this.guide = 0;  //  引导步骤\n\n        this.freeCoinsLastTime = zy.utils.time() - zy.constData.FreeCoinsCooling;  // 上次看广告领奖励的时间\n        this.freeCoinsNum = zy.constData.FreeCoinsMaxNum;  // 当日剩余领金币次数\n        this.freeCoinsNum2 = 0;  // 当日领取免费金币次数\n        this.freeWatchNum = 0;  // 当日观看免费金币广告次数\n\n    },\n\n    saveData() {\n        let obj = {};\n        for (let key of Object.keys(this)) {\n            obj[key] = this[key];\n        }\n        let data = JSON.stringify(obj);\n        cc.sys.localStorage.setItem(zy.constData.StaticKey.PlayerDataKey + zy.constData.StaticKey.SaveDataVersion, data);\n    },\n\n    loadData() {\n        let data = cc.sys.localStorage.getItem(zy.constData.StaticKey.PlayerDataKey + zy.constData.StaticKey.SaveDataVersion);\n        if (data) {\n            data = JSON.parse(data);\n            for (let key of Object.keys(data)) {\n                if (this.hasOwnProperty(key)) {\n                    this[key] = data[key];\n                }\n            }\n        }\n    }\n});"]}