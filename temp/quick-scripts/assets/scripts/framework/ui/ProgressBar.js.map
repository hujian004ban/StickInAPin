{"version":3,"sources":["ProgressBar.js"],"names":["cc","Class","extends","ProgressBar","setProgressBarToPercent","t","p","cb","progress","unscheduleAllCallbacks","speed","desProgress","progressCb","schedule","updateProgressBar","bind","dt"],"mappings":";;;;;;AAAA;;;;;;AAMAA,GAAGC,KAAH,CAAS;AACLC,aAASF,GAAGG,WADP;;AAGL;;;;;;AAMAC,2BATK,mCASmBC,CATnB,EASsBC,CATtB,EASyBC,EATzB,EAS6B;AAC9B,YAAIF,KAAK,CAAT,EAAY;AACR,iBAAKG,QAAL,GAAgBF,CAAhB;AACA,gBAAIC,EAAJ,EAAQ;AACJA;AACH;AACD;AACH;AACD,aAAKE,sBAAL,GAR8B,CAQC;AAC/B,aAAKC,KAAL,GAAa,CAACJ,IAAE,KAAKE,QAAR,IAAoBH,CAAjC;AACA,aAAKM,WAAL,GAAmBL,CAAnB;AACA,aAAKM,UAAL,GAAkBL,EAAlB;AACA,aAAKM,QAAL,CAAc,KAAKC,iBAAL,CAAuBC,IAAvB,CAA4B,IAA5B,CAAd,EAAiD,CAAjD;AACH,KAtBI;AAuBLD,qBAvBK,6BAuBaE,EAvBb,EAuBiB;AAClB,YAAK,KAAKN,KAAL,GAAa,CAAb,IAAkB,KAAKF,QAAL,GAAgB,KAAKG,WAAxC,IACI,KAAKD,KAAL,GAAa,CAAb,IAAkB,KAAKF,QAAL,GAAgB,KAAKG,WAD/C,EAC6D;AACzD,iBAAKH,QAAL,IAAiB,KAAKE,KAAL,GAAaM,EAA9B;AACH,SAHD,MAGO;AACH,iBAAKR,QAAL,GAAgB,KAAKG,WAArB;AACA,iBAAKF,sBAAL;AACA,gBAAI,KAAKG,UAAT,EAAqB;AACjB,qBAAKA,UAAL;AACH;AACJ;AACJ;AAlCI,CAAT","file":"ProgressBar.js","sourceRoot":"../../../../../../assets/scripts/framework/ui","sourcesContent":["/**\n * Created by skyxu on 2019/12/9.\n *\n * 为cc.ProgressBar补充设置进度的过渡动画\n */\n\ncc.Class({\n    extends: cc.ProgressBar,\n\n    /**\n     * 设置进度\n     * @param t\n     * @param p\n     * @param cb\n     */\n    setProgressBarToPercent(t, p, cb) {\n        if (t <= 0) {\n            this.progress = p;\n            if (cb) {\n                cb();\n            }\n            return;\n        }\n        this.unscheduleAllCallbacks(); // 若在进度中则停止重新开始\n        this.speed = (p-this.progress) / t;\n        this.desProgress = p;\n        this.progressCb = cb;\n        this.schedule(this.updateProgressBar.bind(this), 0);\n    },\n    updateProgressBar(dt) {\n        if ((this.speed > 0 && this.progress < this.desProgress)\n            || (this.speed < 0 && this.progress > this.desProgress)) {\n            this.progress += this.speed * dt;\n        } else {\n            this.progress = this.desProgress;\n            this.unscheduleAllCallbacks();\n            if (this.progressCb) {\n                this.progressCb();\n            }\n        }\n    }\n});"]}