{"version":3,"sources":["PlatformUtils.js"],"names":["PACKAGENAME","vibratorShort","zy","dataMng","userData","vibOn","cc","sys","os","OS_ANDROID","getVibrator","OS_IOS","jsb","reflection","callStaticMethod","vibratorLong","t","getMobilePhoneID","getMobileMac","getMobileIdfa","getAppVersion","rmSplash","module","exports"],"mappings":"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","file":"PlatformUtils.js","sourceRoot":"../../../../../../assets/scripts/framework/platform","sourcesContent":["const PACKAGENAME = \"com/zygame/utils/PlatformUtils\";\n\nfunction vibratorShort() {\n    if (!zy.dataMng.userData.vibOn) {\n        return;\n    }\n    if(cc.sys.os == cc.sys.OS_ANDROID){\n        getVibrator(25);\n    }else if(cc.sys.os == cc.sys.OS_IOS){\n        jsb.reflection.callStaticMethod(\"PlatformUtils\", \"vibratorShort\");\n    }\n}\n\nfunction vibratorLong() {\n    if (!zy.dataMng.userData.vibOn) {\n        return;\n    }\n    if(cc.sys.os == cc.sys.OS_ANDROID){\n        getVibrator(100);\n    }else if(cc.sys.os == cc.sys.OS_IOS){\n        jsb.reflection.callStaticMethod(\"PlatformUtils\", \"vibratorLong\");\n    }\n}\n\n// t震动时间（毫秒）短震动建议25ms，长震动100毫秒\nfunction getVibrator(t) {\n    if(cc.sys.os == cc.sys.OS_ANDROID){\n        jsb.reflection.callStaticMethod(PACKAGENAME, \"vibrator\",\"(I)V\", t);\n    }else if(cc.sys.os == cc.sys.OS_IOS){\n\n    }\n}\n\nfunction getMobilePhoneID() {\n    if(cc.sys.os == cc.sys.OS_ANDROID){\n        return jsb.reflection.callStaticMethod(PACKAGENAME, \"getDeviceID\",\"()Ljava/lang/String;\");\n    }else if(cc.sys.os == cc.sys.OS_IOS){\n        return jsb.reflection.callStaticMethod(\"PlatformUtils\", \"getIdfa\");\n    } else {\n        // web 暂时使用时间戳\n        // let t = Date.now();\n        // t = t + Math.round(Math.random()*100000000);\n        // return t.toString();\n        return \"\";\n    }\n}\n\nfunction  getMobileMac() {\n    return getMobilePhoneID();\n}\n\nfunction getMobileIdfa() {\n    return getMobilePhoneID();\n}\n\nfunction getAppVersion() {\n    if(cc.sys.os == cc.sys.OS_ANDROID){\n        return jsb.reflection.callStaticMethod(PACKAGENAME, \"getPackageVersion\",\"()Ljava/lang/String;\");\n    }else if(cc.sys.os == cc.sys.OS_IOS){\n        return jsb.reflection.callStaticMethod(\"PlatformUtils\", \"getAppVersion\");\n    } else {\n        return \"1.0.0w\";\n    }\n}\n\nfunction rmSplash() {\n    if(cc.sys.os == cc.sys.OS_ANDROID){\n        jsb.reflection.callStaticMethod(PACKAGENAME, \"rmSplashView\",\"()V\");\n    }else if(cc.sys.os == cc.sys.OS_IOS){\n        jsb.reflection.callStaticMethod(\"RootViewController\", \"removeSplashView\");\n    }\n}\n\nmodule.exports = {\n    getVibrator: getVibrator,\n    getMobilePhoneID: getMobilePhoneID,\n    getAppVersion: getAppVersion,\n    vibratorShort: vibratorShort,\n    vibratorLong: vibratorLong,\n    rmSplash: rmSplash,\n    getMobileIdfa: getMobileIdfa,\n    getMobileMac: getMobileMac,\n};\n\n\n\n\n\n"]}