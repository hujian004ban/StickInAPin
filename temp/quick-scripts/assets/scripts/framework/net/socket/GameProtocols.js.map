{"version":3,"sources":["GameProtocols.js"],"names":["BaseProtocol","cc","Class","ctor","act","seq","err","is_async","BaseRequest","extends","BaseResponse","loadData","data","key","hasOwnProperty","undefined","HeartRequest","t","HeartResponse","RandomMatchRequest","uid","RandomMatchResponse","rid","black","other","order","CreateRoomRequest","CreateRoomResponse","JoinRoomRequest","PlayChessRequest","cid","lastBedIndex","dest","index","x","y","PushPlayChess","winner","ChatRequest","msg","PushChat","SelectChessRequest","PushSelectChess","LoginRequest","token","origin","os","osVersion","deviceModel","channelId","idfa","androidId","googleAid","appVersion","packName","language","locale","LoginResponse","self","isBlack","chessDic","isReconn","LogoutRequest","LogoutResponse","BindFacebookRequest","BindFacebookResponse","me","friends","RankRequest","type","RankResponse","myRank","men","PushExitRoom","PushSendSpResponse","friend","PushTakeSpResponse","PushSyncFriendInfo","DebugChangeMeRequest","cmd","DebugChangeMeResponse","spInterval","spStepLeftTime","farmDailyOut","farmCoins","farmInterval","buildings","response_classes","login","logout","bindFb","rankboard","heart","rmatch","createRoom","chat","exitRoom","playChess","selectChess","sendSpNotify","takeSpNotify","friendInfoSync","cmdTest","module","exports"],"mappings":"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","file":"GameProtocols.js","sourceRoot":"../../../../../../../assets/scripts/framework/net/socket","sourcesContent":["/**\n * Created by skyxu on 2018/10/9.\n */\n\n\"use strict\";\n\n/**\n * 消息基类对象，请求消息BaseRequest， 回调消息BaseResponse都继承BaseProtocol\n */\nlet BaseProtocol = cc.Class({\n    ctor: function () {\n        /**\n         * 请求动作类型\n         */\n        this.act = '';\n\n        /**\n         * 每个请求的sequence_id应该唯一\n         */\n        this.seq = 0;\n\n        /**\n         * 错误代码，0为正常\n         */\n        this.err = 0;\n\n        /**\n         * 是否需要等待服务器回调\n         */\n        this.is_async = false;\n    }\n});\n\n/**\n * 请求消息基类，客户端的请求都继承这个类\n */\nlet BaseRequest = cc.Class({\n    extends: BaseProtocol\n});\n\n/**\n * 服务器返回的消息对应的对象，包含返回数据，一般和BaseRequest成对使用\n * @class BaseResponse\n * @extends BaseProtocol\n */\nlet BaseResponse = cc.Class({\n    extends: BaseProtocol,\n\n    /**\n     * 读取返回数据，设置BaseResponse对象\n     */\n    loadData: function (data) {\n        var key;\n        for (key in data) {\n            if(!this.hasOwnProperty(key)){\n                continue;\n            }\n\n            if(data[key] !== undefined && data[key] !== null){\n                this[key] = data[key];\n            }\n        }\n    }\n});\n\n//-------------------------------------------------------\nlet HeartRequest = cc.Class({\n    extends: BaseRequest,\n    ctor(){\n        this.act = 'heart';\n        this.t = -1;    // 发送时间\n    }\n});\n\nlet HeartResponse = cc.Class({\n    extends: BaseResponse,\n\n    ctor(){\n        this.act = 'heart';\n        this.t = -1;\n    }\n});\n//-------------------------------------------------------\nlet RandomMatchRequest = cc.Class({\n    extends: BaseRequest,\n    ctor(){\n        this.act = \"rmatch\";\n        this.uid = 0;\n    }\n});\n\nlet RandomMatchResponse = cc.Class({\n    extends: BaseResponse,\n    ctor(){\n        this.act = \"rmatch\";\n        this.rid = 0;       // 房间id\n        this.black = 0;     // 黑子uid\n        this.other = 0;     // 对手uid\n        this.order = 0;     // 走棋uid\n    }\n});\n//-------------------------------------------------------\nlet CreateRoomRequest = cc.Class({\n    extends: BaseRequest,\n    ctor(){\n        this.act = \"createRoom\";\n    }\n});\n\nlet CreateRoomResponse = cc.Class({\n    extends: BaseResponse,\n    ctor(){\n        this.act = \"createRoom\";\n        this.rid = 0;\n    }\n});\n//-------------------------------------------------------\nlet JoinRoomRequest = cc.Class({\n    extends: BaseRequest,\n    ctor(){\n        this.act = \"joinRoom\";\n        this.rid = 0;\n    }\n});\n//-------------------------------------------------------\nlet PlayChessRequest = cc.Class({\n    extends: BaseRequest,\n    ctor(){\n        this.act = \"playChess\";\n        this.cid = 0;       // 棋子id (用来查找棋子)\n        this.lastBedIndex = 0; // 最新的位置索引 (用来查找位置)\n        this.dest =  {\n            index: 0,\n            x: 0,\n            y: 0\n        };\n\n    }\n});\n\nlet PushPlayChess = cc.Class({\n    extends: BaseResponse,\n    ctor(){\n        this.order = 0;         // 返回下一个走棋的uid\n        this.act = \"playChess\";\n        this.uid = 0;\n        this.cid = 0;\n        this.winner = 0;           // 赢家uid\n        this.dest = {\n            index: 0,\n            x: 0,\n            y: 0\n        }\n    }\n});\n//-------------------------------------------------------\nlet ChatRequest = cc.Class({\n    extends: BaseRequest,\n    ctor(){\n        this.act = 'chat';\n        this.msg = '';\n        this.uid = '';\n    }\n});\n\nlet PushChat = cc.Class({\n    extends: BaseResponse,\n    ctor(){\n        this.act = 'chat';\n        this.msg = '';\n        this.uid = '';\n    }\n});\n//-------------------------------------------------------\nlet SelectChessRequest = cc.Class({\n    extends: BaseRequest,\n    ctor() {\n        this.act = \"selectChess\";\n        this.cid = 0;\n    }\n});\n\nlet PushSelectChess = cc.Class({\n    extends: BaseResponse,\n    ctor() {\n        this.act = \"selectChess\";\n        this.cid = 0;\n    }\n});\n//-------------------------------------------------------\nlet LoginRequest = cc.Class({\n    extends: BaseRequest,\n\n    ctor: function () {\n        this.act = 'login';\n\n        /**\n         * facebook用户的accessToken，或游客的UUID\n         */\n        this.token = '';\n\n        /**\n         * token来源，默认0:游客，1:facebook\n         */\n        this.origin = 0;\n\n        /**\n         * 平台: 必须为以下几种之一：android/ios/winphone/pc\n         */\n        this.os = '';\n\n        /**\n         * 平台系统版本\n         */\n        this.osVersion = '';\n\n        /**\n         * 设备产品型号, 示例 iPhone8,2, SM-G 9280\n         */\n        this.deviceModel = '';\n\n        /**\n         * 渠道ID\n         */\n        this.channelId = 0;\n\n        /**\n         * Ios设备广告标示符\n         */\n        this.idfa = '';\n\n        /**\n         * 安卓设备id\n         */\n        this.androidId = '';\n\n        /**\n         * Google广告平台账号，安装了google play的设备可取到\n         */\n        this.googleAid = '';\n\n        /**\n         * 应用版本号\n         */\n        this.appVersion = '';\n\n        /**\n         * 取package name或者bundle id\n         */\n        this.packName = '';\n\n\n        /**\n         * 设备语言\n         * @type {string}\n         */\n        this.language = '';\n\n        this.locale = \"\";\n\n        this.uid = 0;\n\n    }\n});\n\nlet LoginResponse = cc.Class({\n    extends: BaseResponse,\n\n    ctor: function () {\n        this.act = 'login';\n\n        /**\n         * 游客第一次登录时返回的token，需要客户端保存\n         */\n        this.token = '';\n\n        this.self = {\n            isBlack: false,\n            chessDic: {}\n        };\n\n        this.other = {\n            isBlack: false,\n            chessDic: {},\n            uid: 0\n        };\n\n        this.order = 0;\n\n        this.rid = 0;\n\n        this.isReconn = false;  // 是否断线重连\n\n    }\n});\n//-------------------------------------------------------\nlet LogoutRequest = cc.Class({\n    extends: BaseRequest,\n\n    ctor: function () {\n        this.act = 'logout';\n    }\n});\n\nlet LogoutResponse = cc.Class({\n    extends: BaseResponse,\n\n    ctor: function () {\n        this.act = 'logout';\n    }\n});\n//-------------------------------------------------------\n/**\n * 绑定fb账号\n * @extends BaseRequest\n */\nlet BindFacebookRequest = cc.Class({\n    extends: BaseRequest,\n\n    ctor: function () {\n        this.act = 'bindFb';\n\n        /**\n         * facebook用户的accessToken，或游客的UUID\n         */\n        this.token = '';\n    }\n});\n/**\n * 绑定fb账号\n * @extends BaseResponse\n */\nlet BindFacebookResponse = cc.Class({\n    extends: BaseResponse,\n\n    ctor: function () {\n        this.act = 'bindFb';\n\n        /**\n         * fb数据\n         */\n        this.me = 0;\n\n        /**\n         * fb好友\n         */\n        this.friends = 0;\n    }\n});\n//-------------------------------------------------------\n/**\n * 获取排名\n * @extends BaseRequest\n */\nlet RankRequest = cc.Class({\n    extends: BaseRequest,\n\n    ctor: function () {\n        this.act = 'rankboard';\n\n        /**\n         * 请求动作类型{ 0全部，1本地，2好友 }\n         * @type {int}\n         */\n        this.type = 0;\n    }\n});\n/**\n * 获取排名\n * @extends BaseResponse\n */\nlet RankResponse = cc.Class({\n    extends: BaseResponse,\n\n    ctor: function () {\n        this.act = 'rankboard';\n\n        /**\n         *  我的排名\n         */\n        this.myRank = 0;\n\n        /**\n         * 排名玩家数据\n         */\n        this.men = [];\n    }\n});\n\n\n//----------------------only push------------------------\nlet PushExitRoom = cc.Class({\n    extends: BaseResponse,\n\n    ctor: function () {\n\n        this.act = 'exitRoom';\n\n        this.uid = 0;   // 退出玩家的uid\n    }\n});\n//-------------------------------------------------------\n/**\n * 推送消息 推送消息好友已赠送体力\n * @extends BaseResponse\n */\nvar PushSendSpResponse = cc.Class({\n    extends: BaseResponse,\n\n    ctor: function () {\n        this.act = 'sendSpNotify';\n\n        /**\n         * 好友对象\n         */\n        this.friend = null;\n    }\n});\n//-------------------------------------------------------\n/**\n * 推送消息 推送消息好友已领取赠送的体力\n * @extends BaseResponse\n */\nlet PushTakeSpResponse = cc.Class({\n    extends: BaseResponse,\n\n    ctor: function () {\n        this.act = 'takeSpNotify';\n\n        /**\n         * 好友对象\n         */\n        this.friend = null;\n    }\n});\n//-------------------------------------------------------\n/**\n * 推送消息 同步好友信息\n * @extends BaseResponse\n */\nlet PushSyncFriendInfo = cc.Class({\n    extends: BaseResponse,\n\n    ctor: function () {\n        this.act = 'friendInfoSync';\n\n        /**\n         * 好友\n         */\n        this.friend = null;\n    }\n});\n//-------------------------------------------------------\n/**\n * debug回调\n * @extends BaseRequest\n */\nlet DebugChangeMeRequest = cc.Class({\n    extends: BaseRequest,\n\n    ctor: function () {\n\n        this.act = \"cmdTest\";\t\t\t\t\t//请求动作类型\n        this.cmd = \"\";\n        //  \"player coins add 100\", cmd格式：player field value 或者 player field add value\n        //  Building field [add] value where playerId value type value\n    }\n\n});\n/**\n * debug回调\n * @extends BaseResponse\n */\nlet DebugChangeMeResponse = cc.Class({\n    extends: BaseResponse,\n\n    ctor: function () {\n        this.act = \"cmdTest\";\n\n        /**\n         * 玩家数据\n         * @type {Object}\n         */\n        this.me = {};\n\n        /**\n         * 体力恢复周期\n         * @type {Number}\n         */\n        this.spInterval = null;\n\n        /**\n         * 体力恢复剩余时间\n         * @type {Number}\n         */\n        this.spStepLeftTime = null;\n\n        /**\n         * 存钱罐速度\n         * @type {Number}\n         */\n        this.farmDailyOut = null;\n\n        /**\n         * 存钱罐可回收金币\n         * @type {Number}\n         */\n        this.farmCoins = null;\n\n        /**\n         * 存钱罐回收周期\n         * @type {Number}\n         */\n        this.farmInterval = null;\n\n        /**\n         * 岛屿建筑数据\n         * @type {Array}\n         */\n        this.buildings = null;\n    }\n});\n\nlet response_classes = {\n    login: LoginResponse,\n    logout: LogoutResponse,\n    bindFb: BindFacebookResponse,\n    rankboard: RankResponse,\n    heart: HeartResponse,\n    rmatch: RandomMatchResponse,\n    createRoom: CreateRoomResponse,\n\n    //push\n    chat: PushChat,\n    exitRoom: PushExitRoom,\n    playChess: PushPlayChess,\n    selectChess: PushSelectChess,\n    sendSpNotify: PushSendSpResponse,\n    takeSpNotify: PushTakeSpResponse,\n    friendInfoSync: PushSyncFriendInfo,\n\n    // debug\n    cmdTest: DebugChangeMeResponse,\n};\n\nmodule.exports = {\n    LoginRequest: LoginRequest,\n    LoginResponse: LoginResponse,\n    LogoutRequest: LogoutRequest,\n    LogoutResponse: LogoutResponse,\n    BindFacebookRequest: BindFacebookRequest,\n    BindFacebookResponse: BindFacebookResponse,\n    RankRequest: RankRequest,\n    RankResponse: RankResponse,\n    HeartRequest: HeartRequest,\n    HeartResponse: HeartResponse,\n    ChatRequest: ChatRequest,\n    RandomMatchRequest: RandomMatchRequest,\n    RandomMatchResponse: RandomMatchResponse,\n    PlayChessRequest: PlayChessRequest,\n    SelectChessRequest: SelectChessRequest,\n    CreateRoomRequest: CreateRoomRequest,\n    CreateRoomResponse: CreateRoomResponse,\n    JoinRoomRequest:JoinRoomRequest,\n\n    // debug\n    DebugChangeMeRequest: DebugChangeMeRequest,\n    DebugChangeMeResponse: DebugChangeMeResponse,\n\n    //push消息\n    PushChat: PushChat,\n    PushExitRoom: PushExitRoom,\n    PushPlayChess: PushPlayChess,\n    PushSendSpResponse: PushSendSpResponse,\n    PushTakeSpResponse: PushTakeSpResponse,\n    PushSyncFriendInfo: PushSyncFriendInfo,\n\n    response_classes: response_classes\n};\n"]}